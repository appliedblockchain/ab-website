// —————————————————————————————————————————————————————————————————
// header
// menu
// title
// footer
// —————————————————————————————————————————————————————————————————

// —————————————————————————————————————————————————————————————————
// header
// —————————————————————————————————————————————————————————————————

.header {
  transition: height $transition, background-color $transition, box-shadow $transition, padding-top $transition, padding-bottom $transition;
  will-change: height, background-color, box-shadow, padding-top, padding-bottom;
  overflow: hidden;
  position: fixed;
  height: $spacing*10*2;
  width: 100vw;
  pointer-events: none;

  &__bar {
    transition: height $transition;
    display: flex;
    align-items: center;
    justify-content: space-between;
    will-change: height;
    height: $spacing*10*2;
    padding: 0 $page-gutter/2;

    .button + .button--menu {
      margin-left: $spacing*2;
    }
  }

  &__logo {
    transition: height $transition, width $transition;
    will-change: height, width;
    width: $spacing*25*1.5;
    pointer-events: initial;

    &.logo-white {

      .logo {
        
        &-icon-bg {
          fill: $white;
        }
  
        &-icon-color {
          fill: $primary;
        }
  
        &-name {
          fill: $white;
        }
      }
    }

    &.logo-name-white {

      .logo-name {
        fill: $white;
      }
    }
  }

  &__button {
    display: flex;
    margin-left: $spacing;
  }

  &__contact {

    @include responsive(up, $mobile) {
      display: none !important;
    }
  }

  .button {
    pointer-events: initial;

    &--primary.alt {
      background-color: $white;
  
      .button__inner, &:before {
        color: $primary;
      }
    }
  }

  &__menu {
    @include calc(height, '100vh - '$spacing*8);
    @include overflow-scroll();
    padding: 0  $page-gutter $spacing*5 $page-gutter;
    pointer-events: initial;
  }

  &.js-scrolled {
    box-shadow: $box-shadow-md;
    height: $spacing*10;
    background-color: $white;
    
    .header {

      &__bar {
        height: $spacing*10;
      }
      
      &__logo {
        width: $spacing*15*1.5;
      }
    }
  }

  &.js-opened {
    transition: height $transition, background-color $transition;
    will-change: height, background-color;
    height: 100vh;
    background-color: $white;

    .header {

      &__bar {
        height: $spacing*10*2;
      }

      &__logo {
        width: $spacing*25*1.5;
      }
    }
  }

  &.js-scrolled, 
  &.js-opened {
    
    .logo {

      &-icon-bg {
        fill: $primary;
      }

      &-icon-color {
        fill: $white;
      }

      &-name {
        fill: $black;
      }
    }

    .button--menu {

      &:before, &:after, .button__inner {
        background-color: $black;
      }
    }

    .button--primary {
      background-color: $primary;
  
      .button__inner, &:before {
        color: $white;
      }
    }
  }
}

// —————————————————————————————————————————————————————————————————
// menu
// —————————————————————————————————————————————————————————————————

.menu {

  &__row {

    & + & {
      margin-top: $spacing*5;
    }
  }

  &__inner {
    display: flex;
    flex-wrap: wrap;
  }

  &__button {
    margin-bottom: $spacing;
    
    .subtitle {
      padding: 0;
    }

    &:hover {

      .menu {

        &__description {

          span {
            transform: translateY(0);
          }
        }
      }
    }
  }

  &__description {
    width: 100%;
    overflow: hidden;
    white-space: nowrap;

    @include responsive-touch() {
      overflow: visible;
    }

    span {
      transition: transform $transition;
      transform: translateY(-100%);
      will-change: transform;
      display: block;

      @include responsive-touch() {
        transform: translateY(0);
      }
    }
  }

  &__newsletter {
    margin-top: $spacing*5;
  }
}

// —————————————————————————————————————————————————————————————————
// title
// —————————————————————————————————————————————————————————————————

.page {
  min-height: 100vh;

  &__header {
    background-position: top center !important;
    padding-top: $spacing*10*2;
    padding-right: 25vw;
    padding-bottom: $spacing*10;
    padding-left: 25vw;
    text-align: center;

    &:before {    
      @include pseudo-element('', 0, 0, 0, 0, 100%, 100%);
    }
  
    &.section--primary   { &:before { background-image: linear-gradient(to bottom, rgba($primary, 0.5), $primary); } }
    &.section--dark   { &:before { background-image: linear-gradient(to bottom, rgba($dark, 0.9), $dark); } }
    &.section--white   { &:before { background-image: linear-gradient(to bottom, rgba($white, 0.6), $white); } }
    &.section--grey   { &:before { background-image: linear-gradient(to bottom, rgba($grey-10, 0.6), $grey-10); } }

    > * {
      // display elements on top of gradient
      position: relative;
    }
  }

  &__logo {
    width: 50%;
    min-width: 350px;

    & + .page__comment,
    & + .page__title {
      margin-top: $spacing*5;
    }
  }

  &__comment {

    & + .page__title {
      margin-top: $spacing*2;
    }
  }

  &__subtitle {

    .page__title + & {
      margin-top: $spacing*4;
    }
  }

  &__body {

    .page__title + & {
      margin-top: $spacing*4;
    }

    .page__subtitle + & {
      margin-top: $spacing*4;
    }
  }
}

// —————————————————————————————————————————————————————————————————
// footer
// —————————————————————————————————————————————————————————————————

.footer {
  text-align: left;
  margin-bottom: -$spacing*5;
  padding-bottom: $spacing*25;

  &__row {
    margin-top: $spacing*8;
    margin-bottom: -$spacing*5;
  }

  .card {
    margin-bottom: $spacing*5;
  }

  &__logo {
    margin-bottom: $spacing*5;
  }

  .form__checkbox {
    margin-top: $spacing*2;
  }

  &__button {
    display: block !important;
    margin-left: 0 !important;

    &:hover {
      color: $primary;
    }
  }
}